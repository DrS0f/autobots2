{
  "total_tests": 34,
  "passed_tests": 31,
  "failed_tests": 3,
  "success_rate": 91.17647058823529,
  "results": [
    {
      "test_name": "Database Indexes Creation",
      "success": true,
      "details": "All indexes created successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.646547"
    },
    {
      "test_name": "Record Interaction Event",
      "success": true,
      "details": "Event recorded successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.647454"
    },
    {
      "test_name": "Upsert Latest Interaction",
      "success": true,
      "details": "Latest interaction upserted",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.648762"
    },
    {
      "test_name": "Check Interaction Exists",
      "success": true,
      "details": "Found interaction: success",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.649663"
    },
    {
      "test_name": "Query Interaction Events",
      "success": true,
      "details": "Retrieved 1 events",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.650665"
    },
    {
      "test_name": "Get Interaction Metrics",
      "success": true,
      "details": "Metrics: 1 total",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.656674"
    },
    {
      "test_name": "Get Settings",
      "success": true,
      "details": "Default reengagement: 35 days",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.657638"
    },
    {
      "test_name": "Update Settings",
      "success": true,
      "details": "Settings updated successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.658394"
    },
    {
      "test_name": "Should Engage - New User",
      "success": true,
      "details": "Allowed: allowed - no recent interaction found",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.659136"
    },
    {
      "test_name": "Record Successful Interaction",
      "success": true,
      "details": "Interaction recorded",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.660611"
    },
    {
      "test_name": "Should Engage - Existing User",
      "success": true,
      "details": "Correctly blocked: dedupe_hit - last follow on 2025-08-07 19:39:49",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.662046"
    },
    {
      "test_name": "Record Failed Interaction",
      "success": true,
      "details": "Failed interaction recorded",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.663497"
    },
    {
      "test_name": "Bulk Check Users",
      "success": true,
      "details": "Checked 3 users, 1 blocked",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.664782"
    },
    {
      "test_name": "Get User History",
      "success": true,
      "details": "Retrieved 2 history entries",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.665815"
    },
    {
      "test_name": "Get Service Stats",
      "success": true,
      "details": "Total checks: 5",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.665840"
    },
    {
      "test_name": "Error Type Detection - Rate Limited",
      "success": true,
      "details": "Correctly detected rate limit",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.665858"
    },
    {
      "test_name": "Error Type Detection - Private Account",
      "success": true,
      "details": "Correctly detected private account",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.665868"
    },
    {
      "test_name": "Handle Rate Limit Error",
      "success": true,
      "details": "Retry in 69s: rate_limit_backoff - step 1",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.665918"
    },
    {
      "test_name": "Handle Private Account Error",
      "success": true,
      "details": "Correctly no retry: private_account - cannot access",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.665943"
    },
    {
      "test_name": "Account Availability Check",
      "success": true,
      "details": "Account available: account_ready",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.665952"
    },
    {
      "test_name": "Cooldown Trigger",
      "success": true,
      "details": "Account in cooldown: cooldown_active - 2699s remaining",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.666163"
    },
    {
      "test_name": "Reset Account Errors",
      "success": true,
      "details": "Errors reset successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.666177"
    },
    {
      "test_name": "Get Error Stats",
      "success": true,
      "details": "Total errors: 6",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.666190"
    },
    {
      "test_name": "GET /api/settings",
      "success": true,
      "details": "Retrieved settings: 45 days",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.712767"
    },
    {
      "test_name": "PUT /api/settings",
      "success": true,
      "details": "Settings updated successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.738390"
    },
    {
      "test_name": "GET /api/interactions/events",
      "success": false,
      "details": "",
      "error": "HTTP 500",
      "timestamp": "2025-08-07T19:39:49.761365"
    },
    {
      "test_name": "GET /api/interactions/export (CSV)",
      "success": false,
      "details": "",
      "error": "Not CSV format",
      "timestamp": "2025-08-07T19:39:49.784096"
    },
    {
      "test_name": "GET /api/interactions/export (JSON)",
      "success": false,
      "details": "",
      "error": "HTTP 500",
      "timestamp": "2025-08-07T19:39:49.801607"
    },
    {
      "test_name": "GET /api/metrics",
      "success": true,
      "details": "Metrics retrieved: interactions, deduplication, errors",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.864562"
    },
    {
      "test_name": "GET /api/accounts/states",
      "success": true,
      "details": "Account states: 0 accounts",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.884169"
    },
    {
      "test_name": "POST /api/interactions/cleanup",
      "success": true,
      "details": "Cleaned up 0 expired interaction records",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.942771"
    },
    {
      "test_name": "API Connectivity",
      "success": true,
      "details": "API is running and accessible",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.960237"
    },
    {
      "test_name": "System Health Check",
      "success": true,
      "details": "System status: warning",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.976353"
    },
    {
      "test_name": "Dashboard Stats Integration",
      "success": true,
      "details": "Dashboard stats accessible",
      "error": "",
      "timestamp": "2025-08-07T19:39:49.995380"
    }
  ]
}