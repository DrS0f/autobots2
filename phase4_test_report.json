{
  "total_tests": 34,
  "passed_tests": 31,
  "failed_tests": 3,
  "success_rate": 91.17647058823529,
  "results": [
    {
      "test_name": "Database Indexes Creation",
      "success": true,
      "details": "All indexes created successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.273443"
    },
    {
      "test_name": "Record Interaction Event",
      "success": true,
      "details": "Event recorded successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.274252"
    },
    {
      "test_name": "Upsert Latest Interaction",
      "success": true,
      "details": "Latest interaction upserted",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.275471"
    },
    {
      "test_name": "Check Interaction Exists",
      "success": true,
      "details": "Found interaction: success",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.276346"
    },
    {
      "test_name": "Query Interaction Events",
      "success": true,
      "details": "Retrieved 1 events",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.277194"
    },
    {
      "test_name": "Get Interaction Metrics",
      "success": true,
      "details": "Metrics: 1 total",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.278177"
    },
    {
      "test_name": "Get Settings",
      "success": true,
      "details": "Default reengagement: 35 days",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.278855"
    },
    {
      "test_name": "Update Settings",
      "success": true,
      "details": "Settings updated successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.279541"
    },
    {
      "test_name": "Should Engage - New User",
      "success": true,
      "details": "Allowed: allowed - no recent interaction found",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.280227"
    },
    {
      "test_name": "Record Successful Interaction",
      "success": true,
      "details": "Interaction recorded",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.281699"
    },
    {
      "test_name": "Should Engage - Existing User",
      "success": true,
      "details": "Correctly blocked: dedupe_hit - last follow on 2025-08-07 19:39:57",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.283173"
    },
    {
      "test_name": "Record Failed Interaction",
      "success": true,
      "details": "Failed interaction recorded",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.284537"
    },
    {
      "test_name": "Bulk Check Users",
      "success": true,
      "details": "Checked 3 users, 1 blocked",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.285851"
    },
    {
      "test_name": "Get User History",
      "success": true,
      "details": "Retrieved 2 history entries",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.286816"
    },
    {
      "test_name": "Get Service Stats",
      "success": true,
      "details": "Total checks: 5",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.286841"
    },
    {
      "test_name": "Error Type Detection - Rate Limited",
      "success": true,
      "details": "Correctly detected rate limit",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.286860"
    },
    {
      "test_name": "Error Type Detection - Private Account",
      "success": true,
      "details": "Correctly detected private account",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.286873"
    },
    {
      "test_name": "Handle Rate Limit Error",
      "success": true,
      "details": "Retry in 54s: rate_limit_backoff - step 1",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.286923"
    },
    {
      "test_name": "Handle Private Account Error",
      "success": true,
      "details": "Correctly no retry: private_account - cannot access",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.286946"
    },
    {
      "test_name": "Account Availability Check",
      "success": true,
      "details": "Account available: account_ready",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.286955"
    },
    {
      "test_name": "Cooldown Trigger",
      "success": true,
      "details": "Account in cooldown: cooldown_active - 2699s remaining",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.287154"
    },
    {
      "test_name": "Reset Account Errors",
      "success": true,
      "details": "Errors reset successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.287167"
    },
    {
      "test_name": "Get Error Stats",
      "success": true,
      "details": "Total errors: 6",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.287180"
    },
    {
      "test_name": "GET /api/settings",
      "success": true,
      "details": "Retrieved settings: 45 days",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.330248"
    },
    {
      "test_name": "PUT /api/settings",
      "success": true,
      "details": "Settings updated successfully",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.352418"
    },
    {
      "test_name": "GET /api/interactions/events",
      "success": false,
      "details": "",
      "error": "HTTP 500",
      "timestamp": "2025-08-07T19:39:57.371438"
    },
    {
      "test_name": "GET /api/interactions/export (CSV)",
      "success": false,
      "details": "",
      "error": "Not CSV format",
      "timestamp": "2025-08-07T19:39:57.387571"
    },
    {
      "test_name": "GET /api/interactions/export (JSON)",
      "success": false,
      "details": "",
      "error": "HTTP 500",
      "timestamp": "2025-08-07T19:39:57.413694"
    },
    {
      "test_name": "GET /api/metrics",
      "success": true,
      "details": "Metrics retrieved: interactions, deduplication, errors",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.433921"
    },
    {
      "test_name": "GET /api/accounts/states",
      "success": true,
      "details": "Account states: 0 accounts",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.452516"
    },
    {
      "test_name": "POST /api/interactions/cleanup",
      "success": true,
      "details": "Cleaned up 0 expired interaction records",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.472804"
    },
    {
      "test_name": "API Connectivity",
      "success": true,
      "details": "API is running and accessible",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.529583"
    },
    {
      "test_name": "System Health Check",
      "success": true,
      "details": "System status: warning",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.549113"
    },
    {
      "test_name": "Dashboard Stats Integration",
      "success": true,
      "details": "Dashboard stats accessible",
      "error": "",
      "timestamp": "2025-08-07T19:39:57.565554"
    }
  ]
}