{
  "total_tests": 49,
  "passed_tests": 48,
  "failed_tests": 1,
  "success_rate": 97.95918367346938,
  "results": [
    {
      "test_name": "Database Indexes Creation",
      "success": true,
      "details": "All indexes created successfully",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.574250"
    },
    {
      "test_name": "Record Interaction Event",
      "success": true,
      "details": "Event recorded successfully",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.575090"
    },
    {
      "test_name": "Upsert Latest Interaction",
      "success": true,
      "details": "Latest interaction upserted",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.575996"
    },
    {
      "test_name": "Check Interaction Exists",
      "success": true,
      "details": "Found interaction: success",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.576782"
    },
    {
      "test_name": "Query Interaction Events",
      "success": true,
      "details": "Retrieved 1 events",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.577613"
    },
    {
      "test_name": "Get Interaction Metrics",
      "success": true,
      "details": "Metrics: 1 total",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.578615"
    },
    {
      "test_name": "Get Settings",
      "success": true,
      "details": "Default reengagement: 35 days",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.579257"
    },
    {
      "test_name": "Update Settings",
      "success": true,
      "details": "Settings updated successfully",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.579900"
    },
    {
      "test_name": "Should Engage - New User",
      "success": true,
      "details": "Allowed: allowed - no recent interaction found",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.580605"
    },
    {
      "test_name": "Record Successful Interaction",
      "success": true,
      "details": "Interaction recorded",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.582132"
    },
    {
      "test_name": "Should Engage - Existing User",
      "success": true,
      "details": "Correctly blocked: dedupe_hit - last follow on 2025-08-07 20:45:53",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.583500"
    },
    {
      "test_name": "Record Failed Interaction",
      "success": true,
      "details": "Failed interaction recorded",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.584834"
    },
    {
      "test_name": "Bulk Check Users",
      "success": true,
      "details": "Checked 3 users, 1 blocked",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.586127"
    },
    {
      "test_name": "Get User History",
      "success": true,
      "details": "Retrieved 2 history entries",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.586918"
    },
    {
      "test_name": "Get Service Stats",
      "success": true,
      "details": "Total checks: 5",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.586951"
    },
    {
      "test_name": "Error Type Detection - Rate Limited",
      "success": true,
      "details": "Correctly detected rate limit",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.586973"
    },
    {
      "test_name": "Error Type Detection - Private Account",
      "success": true,
      "details": "Correctly detected private account",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.586984"
    },
    {
      "test_name": "Handle Rate Limit Error",
      "success": true,
      "details": "Retry in 68s: rate_limit_backoff - step 1",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587033"
    },
    {
      "test_name": "Handle Private Account Error",
      "success": true,
      "details": "Correctly no retry: private_account - cannot access",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587050"
    },
    {
      "test_name": "Account Availability Check",
      "success": true,
      "details": "Account available: account_ready",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587059"
    },
    {
      "test_name": "Cooldown Trigger",
      "success": true,
      "details": "Account in cooldown: cooldown_active - 2699s remaining",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587260"
    },
    {
      "test_name": "Reset Account Errors",
      "success": true,
      "details": "Errors reset successfully",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587274"
    },
    {
      "test_name": "Get Error Stats",
      "success": true,
      "details": "Total errors: 6",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587287"
    },
    {
      "test_name": "AccountExecutionManager Singleton",
      "success": true,
      "details": "Singleton pattern working correctly",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587301"
    },
    {
      "test_name": "Account State Tracking - Initial",
      "success": true,
      "details": "Account starts in AVAILABLE state",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587321"
    },
    {
      "test_name": "Concurrency Control - First Task",
      "success": true,
      "details": "First task started successfully",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587339"
    },
    {
      "test_name": "Concurrency Control - Second Task Block",
      "success": true,
      "details": "Second task correctly blocked",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587390"
    },
    {
      "test_name": "Waiting Queue - FIFO Ordering",
      "success": true,
      "details": "Tasks queued in order: 0, 1, 2",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587409"
    },
    {
      "test_name": "Task Completion - State Transition",
      "success": true,
      "details": "Account available, next task: task_002",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587427"
    },
    {
      "test_name": "Concurrency Metrics",
      "success": true,
      "details": "All metrics present: 6 total",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587443"
    },
    {
      "test_name": "Cooldown State Integration",
      "success": true,
      "details": "Account correctly set to cooldown",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587454"
    },
    {
      "test_name": "Cooldown Availability Check",
      "success": true,
      "details": "Correctly blocked: account_in_cooldown",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587463"
    },
    {
      "test_name": "Remove Waiting Task",
      "success": true,
      "details": "Task removed from waiting queue",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.587474"
    },
    {
      "test_name": "GET /api/settings",
      "success": true,
      "details": "Retrieved settings: 45 days",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.627921"
    },
    {
      "test_name": "PUT /api/settings",
      "success": true,
      "details": "Settings updated successfully",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.644650"
    },
    {
      "test_name": "GET /api/interactions/events",
      "success": true,
      "details": "Retrieved 4 events",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.704850"
    },
    {
      "test_name": "GET /api/interactions/export (CSV)",
      "success": false,
      "details": "",
      "error": "Not CSV format",
      "timestamp": "2025-08-07T20:45:53.766538"
    },
    {
      "test_name": "GET /api/interactions/export (JSON)",
      "success": true,
      "details": "JSON export: 4 events",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.784730"
    },
    {
      "test_name": "GET /api/metrics",
      "success": true,
      "details": "Metrics retrieved: interactions, deduplication, errors",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.802449"
    },
    {
      "test_name": "GET /api/accounts/states",
      "success": true,
      "details": "Account states: 0 accounts",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.825025"
    },
    {
      "test_name": "POST /api/interactions/cleanup",
      "success": true,
      "details": "Cleaned up 0 expired interaction records and old account states",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.842220"
    },
    {
      "test_name": "GET /api/accounts/execution-states",
      "success": true,
      "details": "Retrieved 0 account states",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.898914"
    },
    {
      "test_name": "GET /api/accounts/execution-states/{account_id}",
      "success": true,
      "details": "Specific account state endpoint working",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.916079"
    },
    {
      "test_name": "GET /api/accounts/waiting-tasks",
      "success": true,
      "details": "Retrieved waiting tasks: 0 total",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.973990"
    },
    {
      "test_name": "GET /api/metrics/concurrency",
      "success": true,
      "details": "Concurrency metrics: 6 fields",
      "error": "",
      "timestamp": "2025-08-07T20:45:53.992605"
    },
    {
      "test_name": "GET /api/accounts/states (Combined)",
      "success": true,
      "details": "Combined account states: 0 accounts",
      "error": "",
      "timestamp": "2025-08-07T20:45:54.014215"
    },
    {
      "test_name": "API Connectivity",
      "success": true,
      "details": "API is running and accessible",
      "error": "",
      "timestamp": "2025-08-07T20:45:54.035089"
    },
    {
      "test_name": "System Health Check",
      "success": true,
      "details": "System status: warning",
      "error": "",
      "timestamp": "2025-08-07T20:45:54.051133"
    },
    {
      "test_name": "Dashboard Stats Integration",
      "success": true,
      "details": "Dashboard stats accessible",
      "error": "",
      "timestamp": "2025-08-07T20:45:54.069010"
    }
  ]
}